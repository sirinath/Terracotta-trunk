<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.terracotta</groupId>
  <artifactId>parent</artifactId>
  <packaging>pom</packaging>
  <version>2.3-SNAPSHOT</version>
  <name>terracotta base</name>

  <properties>
    <tcVersion>2.3-SNAPSHOT</tcVersion>
  </properties>

  <scm>
    <connection>scm:svn:http://svn.terracotta.org/svn/tc/dso/trunk</connection>
    <url>scm:svn:http://svn.terracotta.org/svn/tc/dso/trunk</url>
  </scm>

  <issueManagement>
    <url>https://jira.terracotta.org/jira/secure/BrowseProject.jspa</url>
  </issueManagement>

  <modules>
    <module>parent14</module>
    <module>parent15</module>
  </modules>

  <build>
    <sourceDirectory>src</sourceDirectory>
    <testSourceDirectory>tests.unit</testSourceDirectory>
    <resources>
      <resource>
        <directory>src.resources</directory>
      </resource>
    </resources>
    <testResources>
      <testResource>
        <directory>tests.unit.resources</directory>
      </testResource>
    </testResources>
    <plugins>
      <plugin>
        <artifactId>maven-site-plugin</artifactId>
        <version>2.0-beta-5</version>
      </plugin>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>aspectj-maven-plugin</artifactId>
        <version>1.0-beta-4-SNAPSHOT</version>
      </plugin>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>build-helper-maven-plugin</artifactId>
        <executions>
          <execution>
            <id>add-test-source</id>
            <phase>generate-test-sources</phase>
            <goals>
              <goal>add-test-source</goal>
            </goals>
            <configuration>
              <sources>
                <source>tests.base</source>
                <source>tests.unit</source>
                <source>tests.system</source>
              </sources>
            </configuration>
          </execution>
        </executions>
      </plugin>
<!--
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>jruby-maven-plugin</artifactId>
        <version>1.0-beta-4-SNAPSHOT</version>
        <configuration>
          <requires>
            <require>ftools</require>
          </requires>
          <ruby>
Dir.foreach( "." ) { |dir|
#    next unless File.exists? "#{dir}/.classpath"
#    puts "#{dir}/.classpath"
#    File.cp "#{dir}/.classpath", "#{dir}/.classpath_mvn"
}
          </ruby>
        </configuration>
        <dependencies>
          <dependency>
            <groupId>org.codehaus.plexus</groupId>
            <artifactId>jruby-stdlib</artifactId>
            <version>1.0-SNAPSHOT</version>
          </dependency>
        </dependencies>
      </plugin>
-->
<!--
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-pmd-plugin</artifactId>
        <executions>
          <execution>
            <id>verify_pmd</id>
            <phase>verify</phase>
            <goals>
              <goal>pmd</goal>
            </goals>
            <configuration>
              <minimumTokens>20</minimumTokens>
            </configuration>
          </execution>
        </executions>
      </plugin>

      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>cobertura-maven-plugin</artifactId>
        <executions>
          <execution>
            <id>verify_cobertura</id>
            <phase>verify</phase>
            <goals>
              <goal>cobertura</goal>
            </goals>
            <configuration>
              <formats>
                <format>xml</format>
                <format>html</format>
              </formats>
            </configuration>
          </execution>
        </executions>
      </plugin>

      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-checkstyle-plugin</artifactId>
        <executions>
          <execution>
            <id>verify_checkstyle</id>
            <phase>verify</phase>
            <goals>
              <goal>checkstyle</goal>
            </goals>
          </execution>
        </executions>
      </plugin>

      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>findbugs-maven-plugin</artifactId>
        <version>1.0-SNAPSHOT</version>
        <executions>
          <execution>
            <id>verify_findbugs</id>
            <phase>verify</phase>
            <goals>
              <goal>findbugs</goal>
            </goals>
            <configuration>
              <reportFormat>xml</reportFormat>
            </configuration>
          </execution>
        </executions>
      </plugin>
-->
    </plugins>
  </build>

  <reporting>
    <plugins>
      <plugin>
        <groupId>net.objectlab</groupId>
        <artifactId>mvn-qalab-plugin</artifactId>
        <version>2.2</version>
        <reportSets>
          <reportSet>
            <reports>
              <report>report-merge-chart</report>
              <report>report-movers-all</report>
            </reports>
          </reportSet>
        </reportSets>
        <configuration>
          <dateOnly>true</dateOnly>
          <startTimeHoursOffset>1</startTimeHoursOffset>
        </configuration>
      </plugin>
    </plugins>
  </reporting>

  <repositories>
    <repository>
      <id>java.net</id>
      <url>http://download.java.net/maven/1</url>
      <layout>legacy</layout>
    </repository>
    <repository>
      <releases>
        <enabled>true</enabled>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
      <id>terracotta-repository</id>
      <url>http://download.terracotta.org/maven2/</url>
    </repository>
    <repository>
      <releases>
        <enabled>true</enabled>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
      <id>terracotta-internal-repository</id>
      <url>http://kong/maven2/</url>
    </repository>
    <repository>
      <releases>
        <enabled>true</enabled>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
      <id>codehaus-repository</id>
      <url>http://repository.codehaus.org/</url>
    </repository>
    <repository>
      <releases>
        <enabled>true</enabled>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
      <id>tomcat-repository</id>
      <url>http://tomcat.apache.org/dev/dist/m2-repository/</url>
    </repository>
  </repositories>

  <pluginRepositories>
    <pluginRepository>
      <id>codehaus-repository</id>
      <name>Codehaus Repository</name>
      <url>http://repository.codehaus.org/</url>
    </pluginRepository>
    <pluginRepository>
      <id>codehaus-repository-snapshot</id>
      <name>Codehaus Snapshot Repository</name>
      <url>http://snapshots.repository.codehaus.org/</url>
      <snapshots>
        <enabled>true</enabled>
      </snapshots>
      <releases>
        <enabled>false</enabled>
      </releases>
    </pluginRepository>
  </pluginRepositories>

  <profiles>
    <profile>
      <id>integration-test</id>
    </profile>
  </profiles>

</project>


<!--
      <plugin>
        <groupId>org.terracotta.maven.plugins</groupId>
        <artifactId>tcbuild-maven-plugin</artifactId>
        <dependencies>
          <dependency>
            <groupId>org.terracotta.maven.plugins</groupId>
            <artifactId>jruby-tcbuild-lib</artifactId>
            <version>1.0-SNAPSHOT</version>
          </dependency>
        </dependencies>
        <inherited>false</inherited>
        <configuration>
          <goals>
            <goal>show_variants</goal>
          </goals>
          <tc>
            <appservers>
              <appserver>
                <name>tomcat-5.0.*</name>
                <min-version>1.4.2_11</min-version>
                <max-version>1.4.999_999</max-version>
              </appserver>
              <appserver>
                <name>tomcat-5.5.*</name>
                <min-version>1.5.0</min-version>
                <max-version>999.999.999_999</max-version>
              </appserver>
              <appserver>
                <name>weblogic-8.1.*</name>
                <min-version>1.4.2_11</min-version>
                <max-version>1.4.999_999</max-version>
              </appserver>
              <appserver>
                <name>glassfish-v1.*</name>
                <min-version>1.5.0</min-version>
                <max-version>999.999.999_999 </max-version>
              </appserver>
            </appservers>

            <build-control>
              <version>trunk</version>
              <branch>trunk</branch>
              <jvmargs>-Xms64m,-Xmx128m,-Dtc.base-dir=code/base</jvmargs>
            </build-control>

            <jdks>
              <jdk>
                <name>J2SE-1.4</name>
                <min-version>1.4.2_09</min-version>
                <max-version>1.4.999_999</max-version>
                <home>${jdk14.home}</home>
                <aliases>
                  <alias>tests-1.4</alias>
                  <alias>"1.4"</alias>
                </aliases>
              </jdk>
              <jdk>
                <name>J2SE-1.5</name>
                <min-version>1.5.0_0</min-version>
                <max-version>1.6.999_999</max-version>
                <home>${jdk15.home}</home>
                <aliases>
                  <alias>tests-1.5</alias>
                  <alias>"1.5"</alias>
                </aliases>
              </jdk>
            </jdks>
          </tc>

          <appserver>
            <factory>tomcat</factory>
            <major-version>5</major-version>
            <minor-version>5.20</minor-version>
            <repository>http://kong.terracotta.lan/resources/appservers</repository>
          </appserver>

            <modulesDef>
              <options>
                <option>
                  <module>linked-child-process</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>thirdparty</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>common</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>aspectwerkz</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-common</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-common-jdk15</module>
                  <jdk>J2SE-1.5</jdk>
                </option>
                <option>
                  <module>management</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-l1</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-l1-jdk15</module>
                  <jdk>J2SE-1.5</jdk>
                </option>
                <option>
                  <module>dso-l1-session</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-weblogic-stubs</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-l1-weblogic</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-l1-tomcat</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-l1-tomcat50</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-l1-tomcat55</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-memory-datastore</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-l2</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>deploy</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>simulator</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>ui-configurator</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>examples</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>ui-eclipse</module>
                  <jdk>J2SE-1.5</jdk>
                </option>
                <option>
                  <module>installer</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>legacy-test-tree</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-spring</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-system-tests</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-alt-boot-jar-tests</module>
                  <jdk>J2SE-1.5</jdk>
                </option>
                <option>
                  <module>dso-tests-jdk15</module>
                  <jdk>J2SE-1.5</jdk>
                </option>
                <option>
                  <module>dso-crash-tests</module>
                  <jdk>J2SE-1.5</jdk>
                </option>
                <option>
                  <module>dso-container-tests</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-spring-tests</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>dso-spring-aj</module>
                  <jdk>J2SE-1.5</jdk>
                  <aspectj>true</aspectj>
                </option>
                <option>
                  <module>dso-spring-crash-tests</module>
                  <jdk>J2SE-1.4</jdk>
                </option>
                <option>
                  <module>modules-common-1.0</module>
                  <jdk>J2SE-1.4</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-apache-struts-1.1</module>
                  <jdk>J2SE-1.4</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-jetty-6.1</module>
                  <jdk>J2SE-1.4</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-lucene-2.0.0</module>
                  <jdk>J2SE-1.5</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-commons-collections-3.1</module>
                  <jdk>J2SE-1.5</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-cglib-2.1.3</module>
                  <jdk>J2SE-1.4</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-iBatis-2.2.0</module>
                  <jdk>J2SE-1.4</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-rife-1.6.0</module>
                  <jdk>J2SE-1.5</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-ehcache-1.3</module>
                  <jdk>J2SE-1.5</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-ehcache-1.2.4</module>
                  <jdk>J2SE-1.5</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-hibernate-3.1.2</module>
                  <jdk>J2SE-1.4</jdk>
                  <isModule>true</isModule>
                </option>
                <option>
                  <module>clustered-wicket-1.3</module>
                  <jdk>J2SE-1.5</jdk>
                  <isModule>true</isModule>
                </option>
              </options>

	          <moduleGroups>
	            <moduleGroup>
	              <name>container</name>
	              <modules>
                    <module>dso-container-tests</module>
	              </modules>
	            </moduleGroup>
	            <moduleGroup>
	              <name>spring</name>
	              <modules>
                    <module>dso-spring</module>
                    <module>dso-spring-aj</module>
                    <module>dso-spring-tests</module>
                    <module>dso-spring-crash-tests</module>
	              </modules>
	            </moduleGroup>
	            <moduleGroup>
	              <name>dso</name>
	              <modules>
                    <module>linked-child-process</module>
                    <module>common</module>
                    <module>thirdparty</module>
                    <module>aspectwerkz</module>
                    <module>dso-common</module>
                    <module>dso-common-jdk15</module>
                    <module>dso-l1</module>
                    <module>dso-l1-jdk15</module>
                    <module>dso-l1-weblogic</module>
                    <module>dso-l1-session</module>
                    <module>dso-l1-tomcat</module>
                    <module>dso-l1-tomcat50</module>
                    <module>dso-l1-tomcat55</module>
                    <module>dso-l2</module>
                    <module>deploy</module>
                    <module>simulator</module>
                    <module>examples</module>
                    <module>legacy-test-tree</module>
                    <module>dso-system-tests</module>
                    <module>dso-alt-boot-jar-tests</module>
                    <module>dso-tests-jdk15</module>
                    <module>management</module>
                    <module>dso-memory-datastore</module>
	              </modules>
	            </moduleGroup>
	            <moduleGroup>
	              <name>framework</name>
	              <modules>
                    <module>clustered-wicket-1.3</module>
                    <module>clustered-rife-1.6.0</module>
                    <module>clustered-lucene-2.0.0</module>
                    <module>clustered-cglib-2.1.3</module>
                    <module>clustered-apache-struts-1.1</module>
                    <module>clustered-ehcache-1.3</module>
                    <module>clustered-ehcache-1.2.4</module>
                    <module>clustered-commons-collections-3.1</module>
                    <module>clustered-jetty-6.1</module>
                    <module>clustered-iBatis-2.2.0</module>
                    <module>clustered-hibernate-3.1.2</module>
                    <module>modules-common-1.0</module>
	              </modules>
	            </moduleGroup>
	            <moduleGroup>
	              <name>gui</name>
	              <modules>
                    <module>ui-configurator</module>
                    <module>ui-eclipse</module>
                    <module>installer</module>
	              </modules>
	            </moduleGroup>
	          </moduleGroups>
	        </modulesDef>
        </configuration>
      </plugin>
-->

<!--
  <reporting>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-project-info-reports-plugin</artifactId>
                <inherited>true</inherited>
                <reportSets>
                    <reportSet>
                        <reports>
                            <report>project-team</report>
                            <report>mailing-list</report>
                            <report>cim</report>
                            <report>issue-tracking</report>
                            <report>license</report>
                            <report>scm</report>
                        </reports>
                    </reportSet>
                </reportSets>
            </plugin>

            <plugin>
              <groupId>org.apache.maven.plugins</groupId>
              <artifactId>maven-javadoc-plugin</artifactId>
              <inherited>true</inherited>
              <configuration>
                <minmemory>128m</minmemory>
                <maxmemory>512</maxmemory>
                <aggregate>true</aggregate>
              </configuration>
            </plugin>

            <plugin>
              <groupId>org.apache.maven.plugins</groupId>
              <artifactId>maven-changelog-plugin</artifactId>
              <inherited>true</inherited>
            </plugin>

            <plugin>
              <groupId>org.apache.maven.plugins</groupId>
              <artifactId>maven-changes-plugin</artifactId>
              <inherited>true</inherited>
              <reportSets>
                <reportSet>
                  <reports>
                    <report>jira-report</report>
                  </reports>
                </reportSet>
              </reportSets>
              </plugin>

            <plugin>
              <groupId>org.apache.maven.plugins</groupId>
              <artifactId>maven-surefire-report-plugin</artifactId>
              <inherited>true</inherited>
            </plugin>

            <plugin>
              <groupId>org.codehaus.mojo</groupId>
              <artifactId>cobertura-maven-plugin</artifactId>
              <inherited>true</inherited>
            </plugin>

            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>jdepend-maven-plugin</artifactId>
                <inherited>true</inherited>
            </plugin>

            <plugin>
              <groupId>org.codehaus.mojo</groupId>
              <artifactId>javancss-maven-plugin</artifactId>
              <inherited>true</inherited>
            </plugin>

            <plugin>
              <groupId>org.apache.maven.plugins</groupId>
              <artifactId>maven-checkstyle-plugin</artifactId>
              <inherited>true</inherited>
            </plugin>

            <plugin>
              <groupId>org.codehaus.mojo</groupId>
              <artifactId>findbugs-maven-plugin</artifactId>
              <inherited>true</inherited>
              <configuration>
                <threshold>Normal</threshold>
                <effort>Default</effort>
              </configuration>
            </plugin>

            <plugin>
              <groupId>org.apache.maven.plugins</groupId>
              <artifactId>maven-pmd-plugin</artifactId>
              <inherited>true</inherited>
              <configuration>
                 <aggregate>true</aggregate>
              </configuration>
           </plugin>

           <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-jxr-plugin</artifactId>
            <inherited>true</inherited>
            <configuration>
              <aggregate>true</aggregate>
            </configuration>
           </plugin>

           <plugin>
           <groupId>org.codehaus.mojo</groupId>
           <artifactId>taglist-maven-plugin</artifactId>
           <inherited>true</inherited>
           <configuration>
             <tags>
               <tag>TODO</tag>
               <tag>@todo</tag>
            </tags>
          </configuration>
          </plugin>
        </plugins>
  </reporting>
-->
