<!--

  All content copyright (c) 2003-2008 Terracotta, Inc.,
  except as may otherwise be noted in a separate copyright notice.
  All rights reserved.

-->

<project name="Events" default="init" basedir=".">
  <property name="bundled.server.home" value="${basedir}/../../../vendors/jetty-6.1.15"/>
  <condition property="is.live" value="true">
    <available file="${bundled.server.home}" type="dir"/>
  </condition>
	
  <property environment="env"/>
  <condition property="webserver.home" value="${bundled.server.home}" else="${env.JETTY_HOME}">
    <istrue value="${is.live}"/>
  </condition>
	
  <property name="warfile"        value="Events.war"/>
  <property name="servlet.jar"    value="${basedir}/../../../lib/servlet-api-2.5-6.1.8.jar"/>
  <property name="ehcache.jar"    value="${basedir}/src/main/webapp/WEB-INF/lib/ehcache-core-2.0.0-SNAPSHOT.jar"/>
  <property name="hibernate.jar"  value="${basedir}/src/main/webapp/WEB-INF/lib/hibernate-core-3.3.1.GA.jar"/>
  <property name="slf4j-api.jar"  value="${basedir}/src/main/webapp/WEB-INF/lib/slf4j-api-1.5.8.jar"/>
  <property name="slf4j-impl.jar" value="${basedir}/src/main/webapp/WEB-INF/lib/slf4j-jdk14-1.5.8.jar"/>
  <property name="src.dir"        value="src/main/java"/>
  <property name="web.dir"        value="src/main/webapp"/>
  <property name="dist.dir"       value="target"/>
  <property name="build.dir"      value="${dist.dir}/classes"/>

  <path id="build.classpath">
    <pathelement location="${servlet.jar}"/>
    <pathelement location="${ehcache.jar}"/>
    <pathelement location="${hibernate.jar}"/>
    <pathelement location="${slf4j-api.jar}"/>
    <pathelement location="${slf4j-impl.jar}"/>
    <pathelement path="${build.dir}"/>
  </path>

  <target name="init">
    <tstamp/>
    <mkdir dir="${dist.dir}"/>
    <mkdir dir="${build.dir}"/>
  </target>

  <target name="clean">
    <delete dir="${build.dir}"/>
  </target>

  <target name="clean.all" depends="clean">
    <delete dir="${dist.dir}"/>
  </target>

  <!-- target name="compile" depends="init">
    <javac destdir="${build.dir}" deprecation="on" target="1.5" source="1.5">
    <classpath refid="build.classpath"/>
    <src path="${src.dir}"/>
    </javac>
  </target -->

</project>
