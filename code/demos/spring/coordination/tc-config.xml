<?xml version="1.0" encoding="UTF-8"?>
<tc:tc-config xsi:schemaLocation="http://www.terracotta.org/schema/terracotta-4.xsd" xmlns:tc="http://www.terracotta.org/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <!--Server is colocated with client and DSO is listening on
       default port (9510).-->
  <servers>
    <server host="%i" name="sample"/>
  </servers>
  <!--Tell DSO where to put the generated client logs
       See the Terracotta Configuration Guide and Reference for additional
       information.-->
  <clients>
    <logs>terracotta/client-logs/spring/coordination/%D</logs>
    <statistics>terracotta/client-statistics/spring/coordination/%D</statistics>
    <modules>
      <module name="tim-jetty-6.1" version="@tim.version@"/>
    </modules>
  </clients>
  <application>
    <dso>
      <instrumented-classes/>
      <roots>
        <root>
          <field-name>demo.coordination.CounterService.counter</field-name>
        </root>
        <root>
          <field-name>demo.coordination.CounterService.lock</field-name>
        </root>
      </roots>
      <locks>
        <autolock auto-synchronized="false">
          <method-expression>void demo.coordination.CounterService.run()</method-expression>
          <lock-level>write</lock-level>
        </autolock>
      </locks>
    </dso>
  </application>
</tc:tc-config>