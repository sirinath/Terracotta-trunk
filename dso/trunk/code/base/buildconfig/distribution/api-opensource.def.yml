name: Terracotta DSO API
internal_name: api
kit_name_pattern: terracotta-tim-api-version-bundle
root_directory: terracotta-tim-api-version
bundled_components:
  - base:
      module_packages:
        - terracotta-tim-api-version:
            modules:
              - common-api
              - dso-l1-api
              - license-common
              - management-api
              - modules-common
              - thirdparty-api
        - terracotta-test-api-version:
            source: tests.base
            filter: "**/*TestApp.class"
            modules:
              - common-api
              - common
              - dso-container-tests
              - dso-l1
              - dso-system-tests
              - legacy-test-tree
              - license-common
              - simulator
packaging:
  - mvn
postscripts:
  - make-build-data:
      args:
        - lib/resources
  - make-terracotta-api-pom:
      args:
        - version-PREALPHA
  - maven-deploy:
      args:
        - artifact: terracotta-tim-api
          file: terracotta-tim-api-version.jar
          pom: poms/terracotta-tim-api-pom.xml
          version: api.version
          inject: 
            - lib/resources/build-data.txt
        - artifact: terracotta-test-api
          file: terracotta-test-api-version.jar
          pom: poms/terracotta-test-api-pom.xml
          version: api.version
          inject: 
            - lib/resources/build-data.txt
